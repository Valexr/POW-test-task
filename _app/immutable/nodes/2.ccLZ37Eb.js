import{a as E,t as C,d as Y,c as ie}from"../chunks/disclose-version.D5ZjYSUx.js";import{k as T,l as ke,as as xe,j as we,at as He,au as B,q as O,ac as se,U as oe,u as H,s as F,K as le,y as ce,a9 as ve,av as ue,p as V,t as K,ap as Me,Y as Oe,i as Re,al as Ee,H as Ve,r as _e,m as de,n as Q,aw as U,e as he,ax as ze,a8 as Pe,ay as Ye,N as Be,ai as Ke,aa as Ue,az as $e,aA as Fe,aB as Ge,ag as Qe,an as Te,x as Ae,ao as fe,$ as Xe,aC as Ze,aD as Je,aE as We,h as je,aF as ea,ab as aa,O as Ie,a2 as L,Q as Ne,T as N,V as D,a3 as R,d as p,ar as $,c as M,a1 as X}from"../chunks/runtime.CrirDcAX.js";import{d as ra,l as De,e as ta,r as sa,a as ne}from"../chunks/store.CKE1O8y_.js";import{b as la,p as ge,i as z,a as Z}from"../chunks/props.CH9VcAJZ.js";import{b as G}from"../chunks/paths.DlkNZNuj.js";const J=0,P=1,W=2;function na(e,a,r,t,l){T&&ke();var n=e,f=xe(),m=Oe,c=oe,o,s,g,_=(f?F:le)(void 0),h=(f?F:le)(void 0),d=!1;function u(i,v){d=!0,v&&(ce(y),ve(y),ue(m));try{i===J&&r&&(o?V(o):o=O(()=>r(n))),i===P&&t&&(s?V(s):s=O(()=>t(n,_))),i===W&&l&&(g?V(g):g=O(()=>l(n,h))),i!==J&&o&&K(o,()=>o=null),i!==P&&s&&K(s,()=>s=null),i!==W&&g&&K(g,()=>g=null)}finally{v&&(ue(null),ve(null),ce(null),Me())}}var y=we(()=>{if(c!==(c=a())){if(He(c)){var i=c;d=!1,i.then(v=>{i===c&&(B(_,v),u(P,!0))},v=>{if(i===c&&(B(h,v),u(W,!0),!l))throw h.v}),T?r&&(o=O(()=>r(n))):se(()=>{d||u(J,!0)})}else B(_,c),u(P,!1);return()=>c=oe}});T&&(n=H)}function fa(e,a){return a}function ia(e,a,r,t){for(var l=[],n=a.length,f=0;f<n;f++)ze(a[f].e,l,!0);var m=n>0&&l.length===0&&r!==null;if(m){var c=r.parentNode;Pe(c),c.append(r),t.clear(),S(e,a[0].prev,a[n-1].next)}Ye(l,()=>{for(var o=0;o<n;o++){var s=a[o];m||(t.delete(s.k),S(e,s.prev,s.next)),Be(s.e,!m)}})}function oa(e,a,r,t,l,n=null){var f=e,m={flags:a,items:new Map,first:null};T&&ke();var c=null,o=!1;we(()=>{var s=r(),g=Re(s)?s:s==null?[]:Ee(s),_=g.length;if(o&&_===0)return;o=_===0;let h=!1;if(T){var d=f.data===Ve;d!==(_===0)&&(f=_e(),de(f),Q(!1),h=!0)}if(T){for(var u=null,y,i=0;i<_;i++){if(H.nodeType===8&&H.data===Ke){f=H,h=!0,Q(!1);break}var v=g[i],x=t(v,i);y=Se(H,m,u,null,v,x,i,l,a),m.items.set(x,y),u=y}_>0&&de(_e())}if(!T){var A=Ue;ca(g,m,f,l,a,(A.f&U)!==0,t)}n!==null&&(_===0?c?V(c):c=O(()=>n(f)):c!==null&&K(c,()=>{c=null})),h&&Q(!0)}),T&&(f=H)}function ca(e,a,r,t,l,n,f){var m=e.length,c=a.items,o=a.first,s=o,g,_=null,h=[],d=[],u,y,i,v;for(v=0;v<m;v+=1){if(u=e[v],y=f(u,v),i=c.get(y),i===void 0){var x=s?s.e.nodes_start:r;_=Se(x,a,_,_===null?a.first:_.next,u,y,v,t,l),c.set(y,_),h=[],d=[],s=_.next;continue}if(va(i,u,v),i.e.f&U&&V(i.e),i!==s){if(g!==void 0&&g.has(i)){if(h.length<d.length){var A=d[0],w;_=A.prev;var k=h[0],b=h[h.length-1];for(w=0;w<h.length;w+=1)me(h[w],A,r);for(w=0;w<d.length;w+=1)g.delete(d[w]);S(a,k.prev,b.next),S(a,_,k),S(a,b,A),s=A,_=b,v-=1,h=[],d=[]}else g.delete(i),me(i,s,r),S(a,i.prev,i.next),S(a,i,_===null?a.first:_.next),S(a,_,i),_=i;continue}for(h=[],d=[];s!==null&&s.k!==y;)(n||!(s.e.f&U))&&(g??(g=new Set)).add(s),d.push(s),s=s.next;if(s===null)continue;i=s}h.push(i),_=i,s=i.next}if(s!==null||g!==void 0){for(var I=g===void 0?[]:Ee(g);s!==null;)(n||!(s.e.f&U))&&I.push(s),s=s.next;var qe=I.length;if(qe>0){var Ce=null;ia(a,I,Ce,c)}}he.first=a.first&&a.first.e,he.last=_&&_.e}function va(e,a,r,t){B(e.v,a),e.i=r}function Se(e,a,r,t,l,n,f,m,c){var o=(c&Fe)!==0,s=(c&Ge)===0,g=o?s?le(l):F(l):l,_=c&$e?F(f):f,h={i:_,v:g,k:n,a:null,e:null,prev:r,next:t};try{return h.e=O(()=>m(e,g,_),T),h.e.prev=r&&r.e,h.e.next=t&&t.e,r===null?a.first=h:(r.next=h,r.e.next=h.e),t!==null&&(t.prev=h,t.e.prev=h.e),h}finally{}}function me(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,l=a?a.e.nodes_start:r,n=e.e.nodes_start;n!==t;){var f=Qe(n);l.before(n),n=f}}function S(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function ye(e,a,r){Te(()=>{var t=Ae(()=>a(e,r==null?void 0:r())||{});if(r&&(t!=null&&t.update)){var l=!1,n={};fe(()=>{var f=r();Xe(f),l&&Ze(n,f)&&(n=f,t.update(f))}),l=!0}if(t!=null&&t.destroy)return()=>t.destroy()})}function ua(e){if(T){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;q(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var l=e.checked;q(e,"checked",null),e.checked=l}}};e.__on_r=r,Je(r),ra()}}function q(e,a,r,t){var l=e.__attributes??(e.__attributes={});T&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[We]=r),r==null?e.removeAttribute(a):typeof r!="string"&&_a(e).includes(a)?e[a]=r:e.setAttribute(a,r))}var pe=new Map;function _a(e){var a=pe.get(e.nodeName);if(a)return a;pe.set(e.nodeName,a=[]);for(var r,t=e,l=Element.prototype;l!==t;){r=ea(t);for(var n in r)r[n].set&&a.push(n);t=je(t)}return a}function Le(e,a,r){if(r){if(e.classList.contains(a))return;e.classList.add(a)}else{if(!e.classList.contains(a))return;e.classList.remove(a)}}function da(e,a,r=a){var t=xe();De(e,"input",l=>{var n=l?e.defaultValue:e.value;if(n=ee(e)?ae(n):n,r(n),t&&n!==(n=a())){var f=e.selectionStart,m=e.selectionEnd;e.value=n??"",m!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(m,e.value.length))}}),(T&&e.defaultValue!==e.value||Ae(a)==null&&e.value)&&r(ee(e)?ae(e.value):e.value),fe(()=>{var l=a();ee(e)&&l===ae(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}const j=new Set;function ha(e,a,r,t,l=t){var n=r.getAttribute("type")==="checkbox",f=e;let m=!1;if(a!==null)for(var c of a)f=f[c]??(f[c]=[]);f.push(r),De(r,"change",()=>{var o=r.__value;n&&(o=be(f,o,r.checked)),l(o)},()=>l(n?[]:null)),fe(()=>{var o=t();if(T&&r.defaultChecked!==r.checked){m=!0;return}n?(o=o||[],r.checked=o.includes(r.__value)):r.checked=la(r.__value,o)}),aa(()=>{var o=f.indexOf(r);o!==-1&&f.splice(o,1)}),j.has(f)||(j.add(f),se(()=>{f.sort((o,s)=>o.compareDocumentPosition(s)===4?-1:1),j.delete(f)})),se(()=>{if(m){var o;if(n)o=be(f,o,r.checked);else{var s=f.find(g=>g.checked);o=s==null?void 0:s.__value}l(o)}})}function be(e,a,r){for(var t=new Set,l=0;l<e.length;l+=1)e[l].checked&&t.add(e[l].__value);return r||t.delete(a),Array.from(t)}function ee(e){var a=e.type;return a==="number"||a==="range"}function ae(e){return e===""?null:+e}const ga=!0,La=Object.freeze(Object.defineProperty({__proto__:null,prerender:ga},Symbol.toStringTag,{value:"Module"}));function re(e,a){return r(a),{update:r};function r(t){e.style.height=t?`${e.scrollHeight}px`:""}}function te(e){e.onkeydown=async a=>{var r;if(a.key==="Enter"&&!a.shiftKey&&e.value){a.preventDefault();const t=(r=e.form)==null?void 0:r.querySelector('[type="submit"]');t&&t.click()}}}var ma=C('<label class="type flex gap-2 svelte-yocft7"><img class="opacity-50 svelte-yocft7"> <input type="radio" name="type" class="hidden"> <!></label>'),ya=C('<button type="submit" class="svelte-yocft7"><img alt="alt" class="svelte-yocft7"></button>'),pa=C('<form id="form" class="svelte-yocft7"><fieldset class="flex flex-wrap p-3 svelte-yocft7"><label class="flex-[100%]"><textarea class="font-inherit w-full resize-none border-0 bg-transparent outline-none svelte-yocft7" name="request" rows="1"></textarea></label> <!> <!></fieldset></form>');function ba(e,a){Ie(a,!0);const r=[];let t=ge(a,"value",15,""),l=ge(a,"status",11,""),n=$("Image");const f=["Text","Image"];var m=pa(),c=N(m),o=N(c),s=N(o);sa(s),ye(s,(d,u)=>re==null?void 0:re(d,u),t),ye(s,d=>te==null?void 0:te(d)),Te(()=>da(s,t)),D(o);var g=R(o,2);oa(g,17,()=>f,fa,(d,u)=>{var y=ma(),i=N(y),v=R(i,2);ua(v);var x,A=R(v,2);{var w=k=>{var b=Y();L(()=>ne(b,p(u))),E(k,b)};z(A,k=>{p(n)===p(u)&&k(w)})}D(y),L(()=>{Le(y,"checked",p(n)===p(u)),q(i,"alt",p(u)),q(i,"src",`${G??""}/${p(u)??""}.svg`),x!==(x=p(u))&&(v.value=(v.__value=p(u))==null?"":p(u))}),ha(r,[],v,()=>(p(u),p(n)),k=>M(n,k)),E(d,y)});var _=R(g,2);{var h=d=>{var u=ya(),y=N(u);D(u),L(()=>q(y,"src",`${G??""}/${(l()?"rectangle":"arrow-up")??""}.svg`)),E(d,u)};z(_,d=>{t()&&d(h)})}D(c),D(m),L(()=>{s.disabled=l().length>0,q(s,"placeholder",l()||" Ask anything")}),ta("submit",m,function(...d){var u;(u=a.onsubmit)==null||u.apply(this,d)}),E(e,m),Ne()}function ka(){let e,a;return{promise:new Promise((t,l)=>{e=t,a=l}),resolve:e,reject:a}}var xa=C('<img alt="Response">'),wa=C('<img alt="progress">'),Ea=C('<span id="loader" class="svelte-102f2xz"><!></span>'),Ta=C('<section id="chat"><p><!></p></section> <section id="requester" class="svelte-102f2xz"><!></section>',1);function qa(e,a){Ie(a,!0);let r=$(void 0),t=$(""),l=$("");const n=`Please create an image of a vintage-style motorcycle parked on a snow-covered road, surrounded
		by evergreen trees. The motorcycle features a sleek design with a vibrant blue fuel tank, black
		accents, and rugged tires suitable for various terrains. The setting suggests a cold winter day,
		with soft sunlight filtering through the trees, creating a warm, inviting atmosphere against the
		chilly backdrop.`;function f(d){console.log(d);const u=new FormData(d.target),{type:y,request:i}=Object.fromEntries(u);M(r,Z(ka())),M(l,""),i!=="clear"?(M(t,Z(y==="Text"?"typing...":"loading...")),setTimeout(()=>{var v;(v=p(r))==null||v.resolve(y==="Text"?n:"response.png"),M(t,"")},1e3)):p(r).reject("cleared")}var m=Ta(),c=X(m),o=N(c),s=N(o);{var g=d=>{var u=ie(),y=X(u);na(y,()=>p(r).promise,i=>{var v=Ea(),x=N(v);{var A=k=>{var b=Y();L(()=>ne(b,p(t))),E(k,b)},w=k=>{var b=wa();q(b,"src",`${G??""}/progress.svg`),E(k,b)};z(x,k=>{p(t)==="typing..."?k(A):k(w,!1)})}D(v),L(()=>Le(v,"text",p(t)==="typing...")),E(i,v)},(i,v)=>{var x=ie(),A=X(x);{var w=b=>{var I=Y();I.nodeValue=n,E(b,I)},k=b=>{var I=xa();L(()=>q(I,"src",`${G??""}/${p(v)??""}`)),E(b,I)};z(A,b=>{p(v)===n?b(w):b(k,!1)})}E(i,x)},(i,v)=>{var x=Y();L(()=>ne(x,p(v))),E(i,x)}),E(d,u)};z(s,d=>{p(r)&&d(g)})}D(o),D(c);var _=R(c,2),h=N(_);ba(h,{onsubmit:f,get status(){return p(t)},get value(){return p(l)},set value(d){M(l,Z(d))}}),D(_),E(e,m),Ne()}export{qa as component,La as universal};
