import{a as q,t as O,d as Ce,c as De}from"../chunks/disclose-version.i85zsuNq.js";import{k as b,l as me,as as pe,j as ye,at as Le,au as V,q as S,ac as re,U as le,u as L,s as G,K as se,y as ne,a9 as fe,av as ie,p as R,t as Y,ap as Se,Y as He,i as Me,al as be,H as Re,r as ve,m as oe,n as U,aw as B,e as ce,ax as Oe,a8 as ze,ay as Pe,N as Ve,ai as Ye,aa as Be,az as Ge,aA as Ke,aB as Ue,ag as Fe,an as ke,x as we,ao as te,$ as Qe,aC as Xe,aD as Ze,aE as Je,h as We,aF as $e,ab as je,O as xe,a2 as F,Q as Ee,T as E,V as A,a3 as M,d as y,a1 as ue,c as D,ar as Q,aG as ea}from"../chunks/runtime.DHzji0RL.js";import{b as aa,p as H,i as Ae,a as X}from"../chunks/props.DOxbcUH4.js";import{d as ra,l as Te,e as sa,r as ta,a as la}from"../chunks/store.Dk9jwj7E.js";import{b as K}from"../chunks/paths.Dx_XNNj-.js";const Z=0,P=1,J=2;function na(e,a,r,s,t){b&&me();var f=e,n=pe(),g=He,c=le,v,l,_,u=(n?G:se)(void 0),o=(n?G:se)(void 0),m=!1;function p(i,h){m=!0,h&&(ne(d),fe(d),ie(g));try{i===Z&&r&&(v?R(v):v=S(()=>r(f))),i===P&&s&&(l?R(l):l=S(()=>s(f,u))),i===J&&t&&(_?R(_):_=S(()=>t(f,o))),i!==Z&&v&&Y(v,()=>v=null),i!==P&&l&&Y(l,()=>l=null),i!==J&&_&&Y(_,()=>_=null)}finally{h&&(ie(null),fe(null),ne(null),Se())}}var d=ye(()=>{if(c!==(c=a())){if(Le(c)){var i=c;m=!1,i.then(h=>{i===c&&(V(u,h),p(P,!0))},h=>{if(i===c)throw V(o,h),p(J,!0),o.v}),b?r&&(v=S(()=>r(f))):re(()=>{m||p(Z,!0)})}else V(u,c),p(P,!1);return()=>c=le}});b&&(f=L)}function fa(e,a){return a}function ia(e,a,r,s){for(var t=[],f=a.length,n=0;n<f;n++)Oe(a[n].e,t,!0);var g=f>0&&t.length===0&&r!==null;if(g){var c=r.parentNode;ze(c),c.append(r),s.clear(),T(e,a[0].prev,a[f-1].next)}Pe(t,()=>{for(var v=0;v<f;v++){var l=a[v];g||(s.delete(l.k),T(e,l.prev,l.next)),Ve(l.e,!g)}})}function va(e,a,r,s,t,f=null){var n=e,g={flags:a,items:new Map,first:null};b&&me();var c=null,v=!1;ye(()=>{var l=r(),_=Me(l)?l:l==null?[]:be(l),u=_.length;if(v&&u===0)return;v=u===0;let o=!1;if(b){var m=n.data===Re;m!==(u===0)&&(n=ve(),oe(n),U(!1),o=!0)}if(b){for(var p=null,d,i=0;i<u;i++){if(L.nodeType===8&&L.data===Ye){n=L,o=!0,U(!1);break}var h=_[i],k=s(h,i);d=Ie(L,g,p,null,h,k,i,t,a),g.items.set(k,d),p=d}u>0&&oe(ve())}if(!b){var x=Be;oa(_,g,n,t,a,(x.f&B)!==0,s)}f!==null&&(u===0?c?R(c):c=S(()=>f(n)):c!==null&&Y(c,()=>{c=null})),o&&U(!0),r()}),b&&(n=L)}function oa(e,a,r,s,t,f,n){var g=e.length,c=a.items,v=a.first,l=v,_,u=null,o=[],m=[],p,d,i,h;for(h=0;h<g;h+=1){if(p=e[h],d=n(p,h),i=c.get(d),i===void 0){var k=l?l.e.nodes_start:r;u=Ie(k,a,u,u===null?a.first:u.next,p,d,h,s,t),c.set(d,u),o=[],m=[],l=u.next;continue}if(ca(i,p,h),i.e.f&B&&R(i.e),i!==l){if(_!==void 0&&_.has(i)){if(o.length<m.length){var x=m[0],w;u=x.prev;var z=o[0],N=o[o.length-1];for(w=0;w<o.length;w+=1)_e(o[w],x,r);for(w=0;w<m.length;w+=1)_.delete(m[w]);T(a,z.prev,N.next),T(a,u,z),T(a,N,x),l=x,u=N,h-=1,o=[],m=[]}else _.delete(i),_e(i,l,r),T(a,i.prev,i.next),T(a,i,u===null?a.first:u.next),T(a,u,i),u=i;continue}for(o=[],m=[];l!==null&&l.k!==d;)(f||!(l.e.f&B))&&(_??(_=new Set)).add(l),m.push(l),l=l.next;if(l===null)continue;i=l}o.push(i),u=i,l=i.next}if(l!==null||_!==void 0){for(var C=_===void 0?[]:be(_);l!==null;)(f||!(l.e.f&B))&&C.push(l),l=l.next;var Ne=C.length;if(Ne>0){var qe=null;ia(a,C,qe,c)}}ce.first=a.first&&a.first.e,ce.last=u&&u.e}function ca(e,a,r,s){V(e.v,a),e.i=r}function Ie(e,a,r,s,t,f,n,g,c){var v=(c&Ke)!==0,l=(c&Ue)===0,_=v?l?se(t):G(t):t,u=c&Ge?G(n):n,o={i:u,v:_,k:f,a:null,e:null,prev:r,next:s};try{return o.e=S(()=>g(e,_,u),b),o.e.prev=r&&r.e,o.e.next=s&&s.e,r===null?a.first=o:(r.next=o,r.e.next=o.e),s!==null&&(s.prev=o,s.e.prev=o.e),o}finally{}}function _e(e,a,r){for(var s=e.next?e.next.e.nodes_start:r,t=a?a.e.nodes_start:r,f=e.e.nodes_start;f!==s;){var n=Fe(f);t.before(f),f=n}}function T(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function de(e,a,r){ke(()=>{var s=we(()=>a(e,r==null?void 0:r())||{});if(r&&(s!=null&&s.update)){var t=!1,f={};te(()=>{var n=r();Qe(n),t&&Xe(f,n)&&(f=n,s.update(n))}),t=!0}if(s!=null&&s.destroy)return()=>s.destroy()})}function ua(e){if(b){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;I(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;I(e,"checked",null),e.checked=t}}};e.__on_r=r,Ze(r),ra()}}function I(e,a,r,s){var t=e.__attributes??(e.__attributes={});b&&(t[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||t[a]!==(t[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Je]=r),r==null?e.removeAttribute(a):typeof r!="string"&&_a(e).includes(a)?e[a]=r:e.setAttribute(a,r))}var he=new Map;function _a(e){var a=he.get(e.nodeName);if(a)return a;he.set(e.nodeName,a=[]);for(var r,s=e,t=Element.prototype;t!==s;){r=$e(s);for(var f in r)r[f].set&&a.push(f);s=We(s)}return a}function da(e,a,r){if(r){if(e.classList.contains(a))return;e.classList.add(a)}else{if(!e.classList.contains(a))return;e.classList.remove(a)}}function ha(e,a,r=a){var s=pe();Te(e,"input",t=>{var f=t?e.defaultValue:e.value;if(f=$(e)?j(f):f,r(f),s&&f!==(f=a())){var n=e.selectionStart,g=e.selectionEnd;e.value=f??"",g!==null&&(e.selectionStart=n,e.selectionEnd=Math.min(g,e.value.length))}}),(b&&e.defaultValue!==e.value||we(a)==null&&e.value)&&r($(e)?j(e.value):e.value),te(()=>{var t=a();$(e)&&t===j(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}const W=new Set;function ga(e,a,r,s,t=s){var f=r.getAttribute("type")==="checkbox",n=e;let g=!1;if(a!==null)for(var c of a)n=n[c]??(n[c]=[]);n.push(r),Te(r,"change",()=>{var v=r.__value;f&&(v=ge(n,v,r.checked)),t(v)},()=>t(f?[]:null)),te(()=>{var v=s();if(b&&r.defaultChecked!==r.checked){g=!0;return}f?(v=v||[],r.checked=v.includes(r.__value)):r.checked=aa(r.__value,v)}),je(()=>{var v=n.indexOf(r);v!==-1&&n.splice(v,1)}),W.has(n)||(W.add(n),re(()=>{n.sort((v,l)=>v.compareDocumentPosition(l)===4?-1:1),W.delete(n)})),re(()=>{if(g){var v;if(f)v=ge(n,v,r.checked);else{var l=n.find(_=>_.checked);v=l==null?void 0:l.__value}t(v)}})}function ge(e,a,r){for(var s=new Set,t=0;t<e.length;t+=1)e[t].checked&&s.add(e[t].__value);return r||s.delete(a),Array.from(s)}function $(e){var a=e.type;return a==="number"||a==="range"}function j(e){return e===""?null:+e}const ma=!0,Ca=Object.freeze(Object.defineProperty({__proto__:null,prerender:ma},Symbol.toStringTag,{value:"Module"}));function ee(e){e.oninput=a=>{e.style.height="auto",e.style.height=`${e.scrollHeight}px`}}function ae(e,a=!1){e.onkeydown=async r=>{var s,t;r.key==="Enter"&&!r.shiftKey&&e.value&&(r.preventDefault(),a?(s=e.form)==null||s.submit():(t=e.form)==null||t.dispatchEvent(new CustomEvent("submit",{detail:r})))}}var pa=O('<label class="type flex gap-2 svelte-1am6fpv"><img class="opacity-50 svelte-1am6fpv"> <input type="radio" name="type" class="hidden"> <!></label>'),ya=O('<form id="form" class="svelte-1am6fpv"><fieldset class="flex flex-wrap p-3 svelte-1am6fpv"><label class="flex-[100%]"><textarea class="font-inherit w-full resize-none border-0 bg-transparent outline-none svelte-1am6fpv" name="request" rows="1"></textarea></label> <!> <button class="svelte-1am6fpv"><img alt="alt" class="svelte-1am6fpv"></button></fieldset></form>');function ba(e,a){xe(a,!0);const r=[];let s=H(a,"type",7,"Image"),t=H(a,"types",19,()=>["Text","Image"]),f=H(a,"value",15,""),n=H(a,"status",11,""),g=H(a,"native",3,!1);var c=ya(),v=E(c),l=E(v),_=E(l);ta(_),de(_,p=>ee==null?void 0:ee(p)),de(_,(p,d)=>ae==null?void 0:ae(p,d),g),ke(()=>ha(_,f)),A(l);var u=M(l,2);va(u,17,t,fa,(p,d)=>{var i=pa(),h=E(i),k=M(h,2);ua(k);var x,w=M(k,2);{var z=N=>{var C=Ce();F(()=>la(C,y(d))),q(N,C)};Ae(w,N=>{s()===y(d)&&N(z)})}A(i),F(()=>{da(i,"checked",s()===y(d)),I(h,"alt",y(d)),I(h,"src",`${K??""}/${y(d)??""}.svg`),x!==(x=y(d))&&(k.value=(k.__value=y(d))==null?"":y(d))}),ga(r,[],k,()=>(y(d),s()),s),q(p,i)});var o=M(u,2),m=E(o);A(o),A(v),A(c),F(()=>{_.disabled=n().length>0,I(_,"placeholder",n()||" Ask anything"),I(m,"src",`${K??""}/${(n()?"rectangle":"arrow-up")??""}.svg`)}),sa("submit",c,function(...p){var d;(d=a.onsubmit)==null||d.apply(this,p)}),q(e,c),Ee()}function ka(){let e,a;return{promise:new Promise((s,t)=>{e=s,a=t}),resolve:e,reject:a}}var wa=O('<img alt="Response">'),xa=O('<span id="loader" class="svelte-spslzq"><img alt="progress"></span>'),Ea=O(`<section id="chat" class="svelte-spslzq"><p><!></p> <br> <p>Please create an image of a vintage-style motorcycle parked on a snow-covered road, surrounded
		by evergreen trees. The motorcycle features a sleek design with a vibrant blue fuel tank, black
		accents, and rugged tires suitable for various terrains. The setting suggests a cold winter day,
		with soft sunlight filtering through the trees, creating a warm, inviting atmosphere against the
		chilly backdrop.</p></section> <section id="requester" class="svelte-spslzq"><!></section>`,1);function Da(e,a){xe(a,!0);let r=Q(""),s=Q(void 0),t=Q("");function f(o){D(s,X(ka())),D(t,"loading..."),D(r,""),setTimeout(()=>{var m;(m=y(s))==null||m.resolve("response.png"),D(t,"")},1e3)}var n=Ea(),g=ue(n),c=E(g),v=E(c);{var l=o=>{var m=De(),p=ue(m);na(p,()=>y(s).promise,d=>{var i=xa(),h=E(i);I(h,"src",`${K??""}/progress.svg`),A(i),q(d,i)},(d,i)=>{var h=wa();I(h,"src",`${K??""}/response.png`),q(d,h)}),q(o,m)};Ae(v,o=>{y(s)&&o(l)})}A(c),ea(4),A(g);var _=M(g,2),u=E(_);ba(u,{onsubmit:f,native:!1,get value(){return y(r)},set value(o){D(r,X(o))},get status(){return y(t)},set status(o){D(t,X(o))}}),A(_),q(e,n),Ee()}export{Da as component,Ca as universal};
