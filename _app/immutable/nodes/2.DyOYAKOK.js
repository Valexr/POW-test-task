import{a as A,t as C,d as te,c as fe}from"../chunks/disclose-version.D5ZjYSUx.js";import{k as w,l as be,as as ke,j as xe,at as He,au as Y,q as O,ac as se,U as ie,u as H,s as $,K as ne,y as oe,a9 as ce,av as ve,p as V,t as B,ap as Me,Y as Oe,i as Re,al as we,H as Ve,r as ue,m as _e,n as G,aw as K,e as de,ax as ze,a8 as Pe,ay as Ye,N as Be,ai as Ke,aa as Ue,az as $e,aA as Fe,aB as Ge,ag as Qe,an as Ee,x as Te,ao as le,$ as Xe,aC as Ze,aD as Je,aE as We,h as je,aF as ea,ab as aa,O as Ae,a2 as q,Q as Ie,T as N,V as D,a3 as R,d as p,ar as U,c as M,a1 as Q}from"../chunks/runtime.CrirDcAX.js";import{d as ra,l as Ne,e as ta,r as sa,a as De}from"../chunks/store.CKE1O8y_.js";import{b as na,p as he,i as z,a as X}from"../chunks/props.CH9VcAJZ.js";import{b as F}from"../chunks/paths.CKj1Twcg.js";const Z=0,P=1,J=2;function la(e,a,r,t,n){w&&be();var l=e,f=ke(),m=Oe,c=ie,i,s,g,u=(f?$:ne)(void 0),h=(f?$:ne)(void 0),_=!1;function v(o,d){_=!0,d&&(oe(y),ce(y),ve(m));try{o===Z&&r&&(i?V(i):i=O(()=>r(l))),o===P&&t&&(s?V(s):s=O(()=>t(l,u))),o===J&&n&&(g?V(g):g=O(()=>n(l,h))),o!==Z&&i&&B(i,()=>i=null),o!==P&&s&&B(s,()=>s=null),o!==J&&g&&B(g,()=>g=null)}finally{d&&(ve(null),ce(null),oe(null),Me())}}var y=xe(()=>{if(c!==(c=a())){if(He(c)){var o=c;_=!1,o.then(d=>{o===c&&(Y(u,d),v(P,!0))},d=>{if(o===c)throw Y(h,d),v(J,!0),h.v}),w?r&&(i=O(()=>r(l))):se(()=>{_||v(Z,!0)})}else Y(u,c),v(P,!1);return()=>c=ie}});w&&(l=H)}function fa(e,a){return a}function ia(e,a,r,t){for(var n=[],l=a.length,f=0;f<l;f++)ze(a[f].e,n,!0);var m=l>0&&n.length===0&&r!==null;if(m){var c=r.parentNode;Pe(c),c.append(r),t.clear(),S(e,a[0].prev,a[l-1].next)}Ye(n,()=>{for(var i=0;i<l;i++){var s=a[i];m||(t.delete(s.k),S(e,s.prev,s.next)),Be(s.e,!m)}})}function oa(e,a,r,t,n,l=null){var f=e,m={flags:a,items:new Map,first:null};w&&be();var c=null,i=!1;xe(()=>{var s=r(),g=Re(s)?s:s==null?[]:we(s),u=g.length;if(i&&u===0)return;i=u===0;let h=!1;if(w){var _=f.data===Ve;_!==(u===0)&&(f=ue(),_e(f),G(!1),h=!0)}if(w){for(var v=null,y,o=0;o<u;o++){if(H.nodeType===8&&H.data===Ke){f=H,h=!0,G(!1);break}var d=g[o],E=t(d,o);y=Se(H,m,v,null,d,E,o,n,a),m.items.set(E,y),v=y}u>0&&_e(ue())}if(!w){var T=Ue;ca(g,m,f,n,a,(T.f&K)!==0,t)}l!==null&&(u===0?c?V(c):c=O(()=>l(f)):c!==null&&B(c,()=>{c=null})),h&&G(!0)}),w&&(f=H)}function ca(e,a,r,t,n,l,f){var m=e.length,c=a.items,i=a.first,s=i,g,u=null,h=[],_=[],v,y,o,d;for(d=0;d<m;d+=1){if(v=e[d],y=f(v,d),o=c.get(y),o===void 0){var E=s?s.e.nodes_start:r;u=Se(E,a,u,u===null?a.first:u.next,v,y,d,t,n),c.set(y,u),h=[],_=[],s=u.next;continue}if(va(o,v,d),o.e.f&K&&V(o.e),o!==s){if(g!==void 0&&g.has(o)){if(h.length<_.length){var T=_[0],x;u=T.prev;var k=h[0],b=h[h.length-1];for(x=0;x<h.length;x+=1)ge(h[x],T,r);for(x=0;x<_.length;x+=1)g.delete(_[x]);S(a,k.prev,b.next),S(a,u,k),S(a,b,T),s=T,u=b,d-=1,h=[],_=[]}else g.delete(o),ge(o,s,r),S(a,o.prev,o.next),S(a,o,u===null?a.first:u.next),S(a,u,o),u=o;continue}for(h=[],_=[];s!==null&&s.k!==y;)(l||!(s.e.f&K))&&(g??(g=new Set)).add(s),_.push(s),s=s.next;if(s===null)continue;o=s}h.push(o),u=o,s=o.next}if(s!==null||g!==void 0){for(var I=g===void 0?[]:we(g);s!==null;)(l||!(s.e.f&K))&&I.push(s),s=s.next;var qe=I.length;if(qe>0){var Ce=null;ia(a,I,Ce,c)}}de.first=a.first&&a.first.e,de.last=u&&u.e}function va(e,a,r,t){Y(e.v,a),e.i=r}function Se(e,a,r,t,n,l,f,m,c){var i=(c&Fe)!==0,s=(c&Ge)===0,g=i?s?ne(n):$(n):n,u=c&$e?$(f):f,h={i:u,v:g,k:l,a:null,e:null,prev:r,next:t};try{return h.e=O(()=>m(e,g,u),w),h.e.prev=r&&r.e,h.e.next=t&&t.e,r===null?a.first=h:(r.next=h,r.e.next=h.e),t!==null&&(t.prev=h,t.e.prev=h.e),h}finally{}}function ge(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,n=a?a.e.nodes_start:r,l=e.e.nodes_start;l!==t;){var f=Qe(l);n.before(l),l=f}}function S(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function me(e,a,r){Ee(()=>{var t=Te(()=>a(e,r==null?void 0:r())||{});if(r&&(t!=null&&t.update)){var n=!1,l={};le(()=>{var f=r();Xe(f),n&&Ze(l,f)&&(l=f,t.update(f))}),n=!0}if(t!=null&&t.destroy)return()=>t.destroy()})}function ua(e){if(w){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;L(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var n=e.checked;L(e,"checked",null),e.checked=n}}};e.__on_r=r,Je(r),ra()}}function L(e,a,r,t){var n=e.__attributes??(e.__attributes={});w&&(n[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||n[a]!==(n[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[We]=r),r==null?e.removeAttribute(a):typeof r!="string"&&_a(e).includes(a)?e[a]=r:e.setAttribute(a,r))}var ye=new Map;function _a(e){var a=ye.get(e.nodeName);if(a)return a;ye.set(e.nodeName,a=[]);for(var r,t=e,n=Element.prototype;n!==t;){r=ea(t);for(var l in r)r[l].set&&a.push(l);t=je(t)}return a}function Le(e,a,r){if(r){if(e.classList.contains(a))return;e.classList.add(a)}else{if(!e.classList.contains(a))return;e.classList.remove(a)}}function da(e,a,r=a){var t=ke();Ne(e,"input",n=>{var l=n?e.defaultValue:e.value;if(l=j(e)?ee(l):l,r(l),t&&l!==(l=a())){var f=e.selectionStart,m=e.selectionEnd;e.value=l??"",m!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(m,e.value.length))}}),(w&&e.defaultValue!==e.value||Te(a)==null&&e.value)&&r(j(e)?ee(e.value):e.value),le(()=>{var n=a();j(e)&&n===ee(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const W=new Set;function ha(e,a,r,t,n=t){var l=r.getAttribute("type")==="checkbox",f=e;let m=!1;if(a!==null)for(var c of a)f=f[c]??(f[c]=[]);f.push(r),Ne(r,"change",()=>{var i=r.__value;l&&(i=pe(f,i,r.checked)),n(i)},()=>n(l?[]:null)),le(()=>{var i=t();if(w&&r.defaultChecked!==r.checked){m=!0;return}l?(i=i||[],r.checked=i.includes(r.__value)):r.checked=na(r.__value,i)}),aa(()=>{var i=f.indexOf(r);i!==-1&&f.splice(i,1)}),W.has(f)||(W.add(f),se(()=>{f.sort((i,s)=>i.compareDocumentPosition(s)===4?-1:1),W.delete(f)})),se(()=>{if(m){var i;if(l)i=pe(f,i,r.checked);else{var s=f.find(g=>g.checked);i=s==null?void 0:s.__value}n(i)}})}function pe(e,a,r){for(var t=new Set,n=0;n<e.length;n+=1)e[n].checked&&t.add(e[n].__value);return r||t.delete(a),Array.from(t)}function j(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}const ga=!0,La=Object.freeze(Object.defineProperty({__proto__:null,prerender:ga},Symbol.toStringTag,{value:"Module"}));function ae(e,a){return r(a),{update:r};function r(t){e.style.height=t?`${e.scrollHeight}px`:""}}function re(e){e.onkeydown=async a=>{var r;if(a.key==="Enter"&&!a.shiftKey&&e.value){a.preventDefault();const t=(r=e.form)==null?void 0:r.querySelector('[type="submit"]');t&&t.click()}}}var ma=C('<label class="type flex gap-2 svelte-yocft7"><img class="opacity-50 svelte-yocft7"> <input type="radio" name="type" class="hidden"> <!></label>'),ya=C('<button type="submit" class="svelte-yocft7"><img alt="alt" class="svelte-yocft7"></button>'),pa=C('<form id="form" class="svelte-yocft7"><fieldset class="flex flex-wrap p-3 svelte-yocft7"><label class="flex-[100%]"><textarea class="font-inherit w-full resize-none border-0 bg-transparent outline-none svelte-yocft7" name="request" rows="1"></textarea></label> <!> <!></fieldset></form>');function ba(e,a){Ae(a,!0);const r=[];let t=he(a,"value",15,""),n=he(a,"status",11,""),l=U("Image");const f=["Text","Image"];var m=pa(),c=N(m),i=N(c),s=N(i);sa(s),me(s,(_,v)=>ae==null?void 0:ae(_,v),t),me(s,_=>re==null?void 0:re(_)),Ee(()=>da(s,t)),D(i);var g=R(i,2);oa(g,17,()=>f,fa,(_,v)=>{var y=ma(),o=N(y),d=R(o,2);ua(d);var E,T=R(d,2);{var x=k=>{var b=te();q(()=>De(b,p(v))),A(k,b)};z(T,k=>{p(l)===p(v)&&k(x)})}D(y),q(()=>{Le(y,"checked",p(l)===p(v)),L(o,"alt",p(v)),L(o,"src",`${F??""}/${p(v)??""}.svg`),E!==(E=p(v))&&(d.value=(d.__value=p(v))==null?"":p(v))}),ha(r,[],d,()=>(p(v),p(l)),k=>M(l,k)),A(_,y)});var u=R(g,2);{var h=_=>{var v=ya(),y=N(v);D(v),q(()=>L(y,"src",`${F??""}/${(n()?"rectangle":"arrow-up")??""}.svg`)),A(_,v)};z(u,_=>{t()&&_(h)})}D(c),D(m),q(()=>{s.disabled=n().length>0,L(s,"placeholder",n()||" Ask anything")}),ta("submit",m,function(..._){var v;(v=a.onsubmit)==null||v.apply(this,_)}),A(e,m),Ie()}function ka(){let e,a;return{promise:new Promise((t,n)=>{e=t,a=n}),resolve:e,reject:a}}var xa=C('<img alt="Response">'),wa=C('<img alt="progress">'),Ea=C('<span id="loader" class="svelte-102f2xz"><!></span>'),Ta=C('<section id="chat"><p><!></p></section> <section id="requester" class="svelte-102f2xz"><!></section>',1);function qa(e,a){Ae(a,!0);let r=U(void 0),t=U(""),n=U("");const l=`Please create an image of a vintage-style motorcycle parked on a snow-covered road, surrounded
		by evergreen trees. The motorcycle features a sleek design with a vibrant blue fuel tank, black
		accents, and rugged tires suitable for various terrains. The setting suggests a cold winter day,
		with soft sunlight filtering through the trees, creating a warm, inviting atmosphere against the
		chilly backdrop.`;function f(_){console.log(_);const v=new FormData(_.target),{type:y,request:o}=Object.fromEntries(v);M(r,X(ka())),M(t,X(y==="Text"?"typing...":"loading...")),M(n,""),setTimeout(()=>{var d;(d=p(r))==null||d.resolve(y==="Text"?l:"response.png"),M(t,"")},1e3)}var m=Ta(),c=Q(m),i=N(c),s=N(i);{var g=_=>{var v=fe(),y=Q(v);la(y,()=>p(r).promise,o=>{var d=Ea(),E=N(d);{var T=k=>{var b=te();q(()=>De(b,p(t))),A(k,b)},x=k=>{var b=wa();L(b,"src",`${F??""}/progress.svg`),A(k,b)};z(E,k=>{p(t)==="typing..."?k(T):k(x,!1)})}D(d),q(()=>Le(d,"text",p(t)==="typing...")),A(o,d)},(o,d)=>{var E=fe(),T=Q(E);{var x=b=>{var I=te();I.nodeValue=l,A(b,I)},k=b=>{var I=xa();q(()=>L(I,"src",`${F??""}/${p(d)??""}`)),A(b,I)};z(T,b=>{p(d)===l?b(x):b(k,!1)})}A(o,E)}),A(_,v)};z(s,_=>{p(r)&&_(g)})}D(i),D(c);var u=R(c,2),h=N(u);ba(h,{onsubmit:f,get status(){return p(t)},get value(){return p(n)},set value(_){M(n,X(_))}}),D(u),A(e,m),Ie()}export{qa as component,La as universal};
