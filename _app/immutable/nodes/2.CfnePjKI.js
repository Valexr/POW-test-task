import{a as q,t as O,d as De,c as Se}from"../chunks/disclose-version.i85zsuNq.js";import{k as b,l as me,as as pe,j as ye,at as Le,au as z,q as C,ac as ae,U as te,u as S,s as B,K as re,y as le,a9 as ne,av as fe,p as M,t as $,ap as Ce,Y as He,i as Me,al as be,H as Oe,r as ie,m as oe,n as U,aw as P,e as ce,ax as Re,a8 as ze,ay as $e,N as Pe,ai as Ve,aa as Ye,az as Be,aA as Ge,aB as Ke,ag as Ue,an as ke,x as xe,ao as se,$ as Fe,aC as Qe,aD as Xe,aE as Ze,h as Je,aF as We,ab as je,O as we,a2 as V,Q as Ee,T as x,V as w,a3 as H,d as y,ar as Y,c as L,a1 as ve,aG as ea}from"../chunks/runtime.DHzji0RL.js";import{b as aa,p as ue,i as Te,a as F}from"../chunks/props.DOxbcUH4.js";import{d as ra,l as Ae,e as sa,r as ta,a as la}from"../chunks/store.Dk9jwj7E.js";import{b as G}from"../chunks/paths.BsXn--47.js";const Q=0,R=1,X=2;function na(e,a,r,s,l){b&&me();var n=e,f=pe(),g=He,v=te,o,t,d,u=(f?B:re)(void 0),c=(f?B:re)(void 0),m=!1;function _(i,h){m=!0,h&&(le(p),ne(p),fe(g));try{i===Q&&r&&(o?M(o):o=C(()=>r(n))),i===R&&s&&(t?M(t):t=C(()=>s(n,u))),i===X&&l&&(d?M(d):d=C(()=>l(n,c))),i!==Q&&o&&$(o,()=>o=null),i!==R&&t&&$(t,()=>t=null),i!==X&&d&&$(d,()=>d=null)}finally{h&&(fe(null),ne(null),le(null),Ce())}}var p=ye(()=>{if(v!==(v=a())){if(Le(v)){var i=v;m=!1,i.then(h=>{i===v&&(z(u,h),_(R,!0))},h=>{if(i===v)throw z(c,h),_(X,!0),c.v}),b?r&&(o=C(()=>r(n))):ae(()=>{m||_(Q,!0)})}else z(u,v),_(R,!1);return()=>v=te}});b&&(n=S)}function fa(e,a){return a}function ia(e,a,r,s){for(var l=[],n=a.length,f=0;f<n;f++)Re(a[f].e,l,!0);var g=n>0&&l.length===0&&r!==null;if(g){var v=r.parentNode;ze(v),v.append(r),s.clear(),A(e,a[0].prev,a[n-1].next)}$e(l,()=>{for(var o=0;o<n;o++){var t=a[o];g||(s.delete(t.k),A(e,t.prev,t.next)),Pe(t.e,!g)}})}function oa(e,a,r,s,l,n=null){var f=e,g={flags:a,items:new Map,first:null};b&&me();var v=null,o=!1;ye(()=>{var t=r(),d=Me(t)?t:t==null?[]:be(t),u=d.length;if(o&&u===0)return;o=u===0;let c=!1;if(b){var m=f.data===Oe;m!==(u===0)&&(f=ie(),oe(f),U(!1),c=!0)}if(b){for(var _=null,p,i=0;i<u;i++){if(S.nodeType===8&&S.data===Ve){f=S,c=!0,U(!1);break}var h=d[i],N=s(h,i);p=Ie(S,g,_,null,h,N,i,l,a),g.items.set(N,p),_=p}u>0&&oe(ie())}if(!b){var E=Ye;ca(d,g,f,l,a,(E.f&P)!==0,s)}n!==null&&(u===0?v?M(v):v=C(()=>n(f)):v!==null&&$(v,()=>{v=null})),c&&U(!0)}),b&&(f=S)}function ca(e,a,r,s,l,n,f){var g=e.length,v=a.items,o=a.first,t=o,d,u=null,c=[],m=[],_,p,i,h;for(h=0;h<g;h+=1){if(_=e[h],p=f(_,h),i=v.get(p),i===void 0){var N=t?t.e.nodes_start:r;u=Ie(N,a,u,u===null?a.first:u.next,_,p,h,s,l),v.set(p,u),c=[],m=[],t=u.next;continue}if(va(i,_,h),i.e.f&P&&M(i.e),i!==t){if(d!==void 0&&d.has(i)){if(c.length<m.length){var E=m[0],k;u=E.prev;var T=c[0],D=c[c.length-1];for(k=0;k<c.length;k+=1)_e(c[k],E,r);for(k=0;k<m.length;k+=1)d.delete(m[k]);A(a,T.prev,D.next),A(a,u,T),A(a,D,E),t=E,u=D,h-=1,c=[],m=[]}else d.delete(i),_e(i,t,r),A(a,i.prev,i.next),A(a,i,u===null?a.first:u.next),A(a,u,i),u=i;continue}for(c=[],m=[];t!==null&&t.k!==p;)(n||!(t.e.f&P))&&(d??(d=new Set)).add(t),m.push(t),t=t.next;if(t===null)continue;i=t}c.push(i),u=i,t=i.next}if(t!==null||d!==void 0){for(var K=d===void 0?[]:be(d);t!==null;)(n||!(t.e.f&P))&&K.push(t),t=t.next;var Ne=K.length;if(Ne>0){var qe=null;ia(a,K,qe,v)}}ce.first=a.first&&a.first.e,ce.last=u&&u.e}function va(e,a,r,s){z(e.v,a),e.i=r}function Ie(e,a,r,s,l,n,f,g,v){var o=(v&Ge)!==0,t=(v&Ke)===0,d=o?t?re(l):B(l):l,u=v&Be?B(f):f,c={i:u,v:d,k:n,a:null,e:null,prev:r,next:s};try{return c.e=C(()=>g(e,d,u),b),c.e.prev=r&&r.e,c.e.next=s&&s.e,r===null?a.first=c:(r.next=c,r.e.next=c.e),s!==null&&(s.prev=c,s.e.prev=c.e),c}finally{}}function _e(e,a,r){for(var s=e.next?e.next.e.nodes_start:r,l=a?a.e.nodes_start:r,n=e.e.nodes_start;n!==s;){var f=Ue(n);l.before(n),n=f}}function A(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function de(e,a,r){ke(()=>{var s=xe(()=>a(e,r==null?void 0:r())||{});if(r&&(s!=null&&s.update)){var l=!1,n={};se(()=>{var f=r();Fe(f),l&&Qe(n,f)&&(n=f,s.update(f))}),l=!0}if(s!=null&&s.destroy)return()=>s.destroy()})}function ua(e){if(b){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;I(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var l=e.checked;I(e,"checked",null),e.checked=l}}};e.__on_r=r,Xe(r),ra()}}function I(e,a,r,s){var l=e.__attributes??(e.__attributes={});b&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Ze]=r),r==null?e.removeAttribute(a):typeof r!="string"&&_a(e).includes(a)?e[a]=r:e.setAttribute(a,r))}var he=new Map;function _a(e){var a=he.get(e.nodeName);if(a)return a;he.set(e.nodeName,a=[]);for(var r,s=e,l=Element.prototype;l!==s;){r=We(s);for(var n in r)r[n].set&&a.push(n);s=Je(s)}return a}function da(e,a,r){if(r){if(e.classList.contains(a))return;e.classList.add(a)}else{if(!e.classList.contains(a))return;e.classList.remove(a)}}function ha(e,a,r=a){var s=pe();Ae(e,"input",l=>{var n=l?e.defaultValue:e.value;if(n=J(e)?W(n):n,r(n),s&&n!==(n=a())){var f=e.selectionStart,g=e.selectionEnd;e.value=n??"",g!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(g,e.value.length))}}),(b&&e.defaultValue!==e.value||xe(a)==null&&e.value)&&r(J(e)?W(e.value):e.value),se(()=>{var l=a();J(e)&&l===W(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}const Z=new Set;function ga(e,a,r,s,l=s){var n=r.getAttribute("type")==="checkbox",f=e;let g=!1;if(a!==null)for(var v of a)f=f[v]??(f[v]=[]);f.push(r),Ae(r,"change",()=>{var o=r.__value;n&&(o=ge(f,o,r.checked)),l(o)},()=>l(n?[]:null)),se(()=>{var o=s();if(b&&r.defaultChecked!==r.checked){g=!0;return}n?(o=o||[],r.checked=o.includes(r.__value)):r.checked=aa(r.__value,o)}),je(()=>{var o=f.indexOf(r);o!==-1&&f.splice(o,1)}),Z.has(f)||(Z.add(f),ae(()=>{f.sort((o,t)=>o.compareDocumentPosition(t)===4?-1:1),Z.delete(f)})),ae(()=>{if(g){var o;if(n)o=ge(f,o,r.checked);else{var t=f.find(d=>d.checked);o=t==null?void 0:t.__value}l(o)}})}function ge(e,a,r){for(var s=new Set,l=0;l<e.length;l+=1)e[l].checked&&s.add(e[l].__value);return r||s.delete(a),Array.from(s)}function J(e){var a=e.type;return a==="number"||a==="range"}function W(e){return e===""?null:+e}const ma=!0,Da=Object.freeze(Object.defineProperty({__proto__:null,prerender:ma},Symbol.toStringTag,{value:"Module"}));function j(e,a){return r(a),{update:r};function r(s){e.style.height=s?`${e.scrollHeight}px`:""}}function ee(e){e.onkeydown=async a=>{var r;if(a.key==="Enter"&&!a.shiftKey&&e.value){a.preventDefault();const s=(r=e.form)==null?void 0:r.querySelector('[type="submit"]');s&&s.click()}}}var pa=O('<label class="type flex gap-2 svelte-1am6fpv"><img class="opacity-50 svelte-1am6fpv"> <input type="radio" name="type" class="hidden"> <!></label>'),ya=O('<form id="form" class="svelte-1am6fpv"><fieldset class="flex flex-wrap p-3 svelte-1am6fpv"><label class="flex-[100%]"><textarea class="font-inherit w-full resize-none border-0 bg-transparent outline-none svelte-1am6fpv" name="request" rows="1"></textarea></label> <!> <button type="submit" class="svelte-1am6fpv"><img alt="alt" class="svelte-1am6fpv"></button></fieldset></form>');function ba(e,a){we(a,!0);const r=[];let s=ue(a,"value",15,""),l=ue(a,"status",11,""),n=Y("Image");const f=["Text","Image"];var g=ya(),v=x(g),o=x(v),t=x(o);ta(t),de(t,(m,_)=>j==null?void 0:j(m,_),s),de(t,m=>ee==null?void 0:ee(m)),ke(()=>ha(t,s)),w(o);var d=H(o,2);oa(d,17,()=>f,fa,(m,_)=>{var p=pa(),i=x(p),h=H(i,2);ua(h);var N,E=H(h,2);{var k=T=>{var D=De();V(()=>la(D,y(_))),q(T,D)};Te(E,T=>{y(n)===y(_)&&T(k)})}w(p),V(()=>{da(p,"checked",y(n)===y(_)),I(i,"alt",y(_)),I(i,"src",`${G??""}/${y(_)??""}.svg`),N!==(N=y(_))&&(h.value=(h.__value=y(_))==null?"":y(_))}),ga(r,[],h,()=>(y(_),y(n)),T=>L(n,T)),q(m,p)});var u=H(d,2),c=x(u);w(u),w(v),w(g),V(()=>{t.disabled=l().length>0,I(t,"placeholder",l()||" Ask anything"),I(c,"src",`${G??""}/${(l()?"rectangle":"arrow-up")??""}.svg`)}),sa("submit",g,function(...m){var _;(_=a.onsubmit)==null||_.apply(this,m)}),q(e,g),Ee()}function ka(){let e,a;return{promise:new Promise((s,l)=>{e=s,a=l}),resolve:e,reject:a}}var xa=O('<img alt="Response">'),wa=O('<span id="loader" class="svelte-spslzq"><img alt="progress"></span>'),Ea=O(`<section id="chat" class="svelte-spslzq"><p><!></p> <br> <p>Please create an image of a vintage-style motorcycle parked on a snow-covered road, surrounded
		by evergreen trees. The motorcycle features a sleek design with a vibrant blue fuel tank, black
		accents, and rugged tires suitable for various terrains. The setting suggests a cold winter day,
		with soft sunlight filtering through the trees, creating a warm, inviting atmosphere against the
		chilly backdrop.</p></section> <section id="requester" class="svelte-spslzq"><!></section>`,1);function Sa(e,a){we(a,!0);let r=Y(void 0),s=Y(""),l=Y("");function n(c){console.log(c);const m=new FormData(c.target),{type:_,request:p}=Object.fromEntries(m);L(r,F(ka())),L(s,F(_==="Text"?"typing...":"loading...")),L(l,""),setTimeout(()=>{var i;(i=y(r))==null||i.resolve("response.png"),L(s,"")},1e3)}var f=Ea(),g=ve(f),v=x(g),o=x(v);{var t=c=>{var m=Se(),_=ve(m);na(_,()=>y(r).promise,p=>{var i=wa(),h=x(i);I(h,"src",`${G??""}/progress.svg`),w(i),q(p,i)},(p,i)=>{var h=xa();V(()=>I(h,"src",`${G??""}/${y(i)??""}`)),q(p,h)}),q(c,m)};Te(o,c=>{y(r)&&c(t)})}w(v),ea(4),w(g);var d=H(g,2),u=x(d);ba(u,{onsubmit:n,get status(){return y(s)},get value(){return y(l)},set value(c){L(l,F(c))}}),w(d),q(e,f),Ee()}export{Sa as component,Da as universal};
