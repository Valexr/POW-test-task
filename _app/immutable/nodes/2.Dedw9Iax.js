import{a as A,t as M,d as pe,c as le}from"../chunks/disclose-version.D5ZjYSUx.js";import{k,l as be,as as ke,j as xe,at as qe,au as $,q as H,ac as te,U as fe,u as q,s as K,K as se,y as ie,a9 as oe,av as ce,p as V,t as Y,ap as Ce,Y as He,i as Me,al as we,H as Oe,r as ve,m as ue,n as G,aw as z,e as _e,ax as Re,a8 as Ve,ay as Pe,N as $e,ai as Ye,aa as ze,az as Be,aA as Ke,aB as Ue,ag as Fe,an as Ee,x as Te,ao as ne,$ as Ge,aC as Qe,aD as Xe,aE as Ze,h as Je,aF as We,ab as je,O as Ae,a2 as O,Q as Ie,T as N,V as D,a3 as R,d as p,ar as B,c as C,a1 as Q}from"../chunks/runtime.CrirDcAX.js";import{b as ea,p as de,i as U,a as X}from"../chunks/props.CH9VcAJZ.js";import{d as aa,l as Ne,e as ra,r as ta,a as sa}from"../chunks/store.CKE1O8y_.js";import{b as F}from"../chunks/paths.DfG1tzYH.js";const Z=0,P=1,J=2;function na(e,a,r,t,n){k&&be();var l=e,f=ke(),m=He,c=fe,i,s,g,u=(f?K:se)(void 0),h=(f?K:se)(void 0),_=!1;function v(o,d){_=!0,d&&(ie(y),oe(y),ce(m));try{o===Z&&r&&(i?V(i):i=H(()=>r(l))),o===P&&t&&(s?V(s):s=H(()=>t(l,u))),o===J&&n&&(g?V(g):g=H(()=>n(l,h))),o!==Z&&i&&Y(i,()=>i=null),o!==P&&s&&Y(s,()=>s=null),o!==J&&g&&Y(g,()=>g=null)}finally{d&&(ce(null),oe(null),ie(null),Ce())}}var y=xe(()=>{if(c!==(c=a())){if(qe(c)){var o=c;_=!1,o.then(d=>{o===c&&($(u,d),v(P,!0))},d=>{if(o===c)throw $(h,d),v(J,!0),h.v}),k?r&&(i=H(()=>r(l))):te(()=>{_||v(Z,!0)})}else $(u,c),v(P,!1);return()=>c=fe}});k&&(l=q)}function la(e,a){return a}function fa(e,a,r,t){for(var n=[],l=a.length,f=0;f<l;f++)Re(a[f].e,n,!0);var m=l>0&&n.length===0&&r!==null;if(m){var c=r.parentNode;Ve(c),c.append(r),t.clear(),S(e,a[0].prev,a[l-1].next)}Pe(n,()=>{for(var i=0;i<l;i++){var s=a[i];m||(t.delete(s.k),S(e,s.prev,s.next)),$e(s.e,!m)}})}function ia(e,a,r,t,n,l=null){var f=e,m={flags:a,items:new Map,first:null};k&&be();var c=null,i=!1;xe(()=>{var s=r(),g=Me(s)?s:s==null?[]:we(s),u=g.length;if(i&&u===0)return;i=u===0;let h=!1;if(k){var _=f.data===Oe;_!==(u===0)&&(f=ve(),ue(f),G(!1),h=!0)}if(k){for(var v=null,y,o=0;o<u;o++){if(q.nodeType===8&&q.data===Ye){f=q,h=!0,G(!1);break}var d=g[o],x=t(d,o);y=De(q,m,v,null,d,x,o,n,a),m.items.set(x,y),v=y}u>0&&ue(ve())}if(!k){var E=ze;oa(g,m,f,n,a,(E.f&z)!==0,t)}l!==null&&(u===0?c?V(c):c=H(()=>l(f)):c!==null&&Y(c,()=>{c=null})),h&&G(!0)}),k&&(f=q)}function oa(e,a,r,t,n,l,f){var m=e.length,c=a.items,i=a.first,s=i,g,u=null,h=[],_=[],v,y,o,d;for(d=0;d<m;d+=1){if(v=e[d],y=f(v,d),o=c.get(y),o===void 0){var x=s?s.e.nodes_start:r;u=De(x,a,u,u===null?a.first:u.next,v,y,d,t,n),c.set(y,u),h=[],_=[],s=u.next;continue}if(ca(o,v,d),o.e.f&z&&V(o.e),o!==s){if(g!==void 0&&g.has(o)){if(h.length<_.length){var E=_[0],w;u=E.prev;var T=h[0],b=h[h.length-1];for(w=0;w<h.length;w+=1)he(h[w],E,r);for(w=0;w<_.length;w+=1)g.delete(_[w]);S(a,T.prev,b.next),S(a,u,T),S(a,b,E),s=E,u=b,d-=1,h=[],_=[]}else g.delete(o),he(o,s,r),S(a,o.prev,o.next),S(a,o,u===null?a.first:u.next),S(a,u,o),u=o;continue}for(h=[],_=[];s!==null&&s.k!==y;)(l||!(s.e.f&z))&&(g??(g=new Set)).add(s),_.push(s),s=s.next;if(s===null)continue;o=s}h.push(o),u=o,s=o.next}if(s!==null||g!==void 0){for(var I=g===void 0?[]:we(g);s!==null;)(l||!(s.e.f&z))&&I.push(s),s=s.next;var Se=I.length;if(Se>0){var Le=null;fa(a,I,Le,c)}}_e.first=a.first&&a.first.e,_e.last=u&&u.e}function ca(e,a,r,t){$(e.v,a),e.i=r}function De(e,a,r,t,n,l,f,m,c){var i=(c&Ke)!==0,s=(c&Ue)===0,g=i?s?se(n):K(n):n,u=c&Be?K(f):f,h={i:u,v:g,k:l,a:null,e:null,prev:r,next:t};try{return h.e=H(()=>m(e,g,u),k),h.e.prev=r&&r.e,h.e.next=t&&t.e,r===null?a.first=h:(r.next=h,r.e.next=h.e),t!==null&&(t.prev=h,t.e.prev=h.e),h}finally{}}function he(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,n=a?a.e.nodes_start:r,l=e.e.nodes_start;l!==t;){var f=Fe(l);n.before(l),l=f}}function S(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function ge(e,a,r){Ee(()=>{var t=Te(()=>a(e,r==null?void 0:r())||{});if(r&&(t!=null&&t.update)){var n=!1,l={};ne(()=>{var f=r();Ge(f),n&&Qe(l,f)&&(l=f,t.update(f))}),n=!0}if(t!=null&&t.destroy)return()=>t.destroy()})}function va(e){if(k){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;L(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var n=e.checked;L(e,"checked",null),e.checked=n}}};e.__on_r=r,Xe(r),aa()}}function L(e,a,r,t){var n=e.__attributes??(e.__attributes={});k&&(n[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||n[a]!==(n[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Ze]=r),r==null?e.removeAttribute(a):typeof r!="string"&&ua(e).includes(a)?e[a]=r:e.setAttribute(a,r))}var me=new Map;function ua(e){var a=me.get(e.nodeName);if(a)return a;me.set(e.nodeName,a=[]);for(var r,t=e,n=Element.prototype;n!==t;){r=We(t);for(var l in r)r[l].set&&a.push(l);t=Je(t)}return a}function _a(e,a,r){if(r){if(e.classList.contains(a))return;e.classList.add(a)}else{if(!e.classList.contains(a))return;e.classList.remove(a)}}function da(e,a,r=a){var t=ke();Ne(e,"input",n=>{var l=n?e.defaultValue:e.value;if(l=j(e)?ee(l):l,r(l),t&&l!==(l=a())){var f=e.selectionStart,m=e.selectionEnd;e.value=l??"",m!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(m,e.value.length))}}),(k&&e.defaultValue!==e.value||Te(a)==null&&e.value)&&r(j(e)?ee(e.value):e.value),ne(()=>{var n=a();j(e)&&n===ee(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const W=new Set;function ha(e,a,r,t,n=t){var l=r.getAttribute("type")==="checkbox",f=e;let m=!1;if(a!==null)for(var c of a)f=f[c]??(f[c]=[]);f.push(r),Ne(r,"change",()=>{var i=r.__value;l&&(i=ye(f,i,r.checked)),n(i)},()=>n(l?[]:null)),ne(()=>{var i=t();if(k&&r.defaultChecked!==r.checked){m=!0;return}l?(i=i||[],r.checked=i.includes(r.__value)):r.checked=ea(r.__value,i)}),je(()=>{var i=f.indexOf(r);i!==-1&&f.splice(i,1)}),W.has(f)||(W.add(f),te(()=>{f.sort((i,s)=>i.compareDocumentPosition(s)===4?-1:1),W.delete(f)})),te(()=>{if(m){var i;if(l)i=ye(f,i,r.checked);else{var s=f.find(g=>g.checked);i=s==null?void 0:s.__value}n(i)}})}function ye(e,a,r){for(var t=new Set,n=0;n<e.length;n+=1)e[n].checked&&t.add(e[n].__value);return r||t.delete(a),Array.from(t)}function j(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}const ga=!0,Sa=Object.freeze(Object.defineProperty({__proto__:null,prerender:ga},Symbol.toStringTag,{value:"Module"}));function ae(e,a){return r(a),{update:r};function r(t){e.style.height=t?`${e.scrollHeight}px`:""}}function re(e){e.onkeydown=async a=>{var r;if(a.key==="Enter"&&!a.shiftKey&&e.value){a.preventDefault();const t=(r=e.form)==null?void 0:r.querySelector('[type="submit"]');t&&t.click()}}}var ma=M('<label class="type flex gap-2 svelte-yocft7"><img class="opacity-50 svelte-yocft7"> <input type="radio" name="type" class="hidden"> <!></label>'),ya=M('<button type="submit" class="svelte-yocft7"><img alt="alt" class="svelte-yocft7"></button>'),pa=M('<form id="form" class="svelte-yocft7"><fieldset class="flex flex-wrap p-3 svelte-yocft7"><label class="flex-[100%]"><textarea class="font-inherit w-full resize-none border-0 bg-transparent outline-none svelte-yocft7" name="request" rows="1"></textarea></label> <!> <!></fieldset></form>');function ba(e,a){Ae(a,!0);const r=[];let t=de(a,"value",15,""),n=de(a,"status",11,""),l=B("Image");const f=["Text","Image"];var m=pa(),c=N(m),i=N(c),s=N(i);ta(s),ge(s,(_,v)=>ae==null?void 0:ae(_,v),t),ge(s,_=>re==null?void 0:re(_)),Ee(()=>da(s,t)),D(i);var g=R(i,2);ia(g,17,()=>f,la,(_,v)=>{var y=ma(),o=N(y),d=R(o,2);va(d);var x,E=R(d,2);{var w=T=>{var b=pe();O(()=>sa(b,p(v))),A(T,b)};U(E,T=>{p(l)===p(v)&&T(w)})}D(y),O(()=>{_a(y,"checked",p(l)===p(v)),L(o,"alt",p(v)),L(o,"src",`${F??""}/${p(v)??""}.svg`),x!==(x=p(v))&&(d.value=(d.__value=p(v))==null?"":p(v))}),ha(r,[],d,()=>(p(v),p(l)),T=>C(l,T)),A(_,y)});var u=R(g,2);{var h=_=>{var v=ya(),y=N(v);D(v),O(()=>L(y,"src",`${F??""}/${(n()?"rectangle":"arrow-up")??""}.svg`)),A(_,v)};U(u,_=>{t()&&_(h)})}D(c),D(m),O(()=>{s.disabled=n().length>0,L(s,"placeholder",n()||" Ask anything")}),ra("submit",m,function(..._){var v;(v=a.onsubmit)==null||v.apply(this,_)}),A(e,m),Ie()}function ka(){let e,a;return{promise:new Promise((t,n)=>{e=t,a=n}),resolve:e,reject:a}}var xa=M('<img alt="Response">'),wa=M('<span id="loader" class="svelte-1ikt9w4"><img alt="progress"></span>'),Ea=M('<section id="chat"><p><!></p></section> <section id="requester" class="svelte-1ikt9w4"><!></section>',1);function La(e,a){Ae(a,!0);let r=B(void 0),t=B(""),n=B("");const l=`Please create an image of a vintage-style motorcycle parked on a snow-covered road, surrounded
		by evergreen trees. The motorcycle features a sleek design with a vibrant blue fuel tank, black
		accents, and rugged tires suitable for various terrains. The setting suggests a cold winter day,
		with soft sunlight filtering through the trees, creating a warm, inviting atmosphere against the
		chilly backdrop.`;function f(_){console.log(_);const v=new FormData(_.target),{type:y,request:o}=Object.fromEntries(v);C(r,X(ka())),C(t,X(y==="Text"?"typing...":"loading...")),C(n,""),setTimeout(()=>{var d;(d=p(r))==null||d.resolve(y==="Text"?l:"response.png"),C(t,"")},1e3)}var m=Ea(),c=Q(m),i=N(c),s=N(i);{var g=_=>{var v=le(),y=Q(v);na(y,()=>p(r).promise,o=>{var d=wa(),x=N(d);L(x,"src",`${F??""}/progress.svg`),D(d),A(o,d)},(o,d)=>{var x=le(),E=Q(x);{var w=b=>{var I=pe();I.nodeValue=l,A(b,I)},T=b=>{var I=xa();O(()=>L(I,"src",`${F??""}/${p(d)??""}`)),A(b,I)};U(E,b=>{p(d)===l?b(w):b(T,!1)})}A(o,x)}),A(_,v)};U(s,_=>{p(r)&&_(g)})}D(i),D(c);var u=R(c,2),h=N(u);ba(h,{onsubmit:f,get status(){return p(t)},get value(){return p(n)},set value(_){C(n,X(_))}}),D(u),A(e,m),Ie()}export{La as component,Sa as universal};
