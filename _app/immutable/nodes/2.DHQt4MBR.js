import{a as D,t as O,d as Se,c as Le}from"../chunks/disclose-version.i85zsuNq.js";import{k as b,l as me,as as pe,j as ye,at as qe,au as $,q as C,ac as ae,U as te,u as L,s as B,K as re,y as ne,a9 as le,av as fe,p as M,t as P,ap as Ce,Y as He,i as Me,al as be,H as Oe,r as ie,m as oe,n as U,aw as V,e as ce,ax as Re,a8 as $e,ay as Pe,N as Ve,ai as Ye,aa as ze,az as Be,aA as Ge,aB as Ke,ag as Ue,an as ke,x as we,ao as se,$ as Fe,aC as Qe,aD as Xe,aE as Ze,h as Je,aF as We,ab as je,O as xe,a2 as Y,Q as Ee,T as w,V as x,a3 as H,d as y,ar as z,c as q,a1 as ve,aG as ea}from"../chunks/runtime.DHzji0RL.js";import{b as aa,p as ue,i as Te,a as F}from"../chunks/props.DOxbcUH4.js";import{d as ra,l as Ae,e as sa,r as ta,a as na}from"../chunks/store.Dk9jwj7E.js";import{b as G}from"../chunks/paths.BvnloZXN.js";const Q=0,R=1,X=2;function la(e,a,r,s,n){b&&me();var l=e,f=pe(),g=He,v=te,o,t,d,u=(f?B:re)(void 0),c=(f?B:re)(void 0),m=!1;function _(i,h){m=!0,h&&(ne(p),le(p),fe(g));try{i===Q&&r&&(o?M(o):o=C(()=>r(l))),i===R&&s&&(t?M(t):t=C(()=>s(l,u))),i===X&&n&&(d?M(d):d=C(()=>n(l,c))),i!==Q&&o&&P(o,()=>o=null),i!==R&&t&&P(t,()=>t=null),i!==X&&d&&P(d,()=>d=null)}finally{h&&(fe(null),le(null),ne(null),Ce())}}var p=ye(()=>{if(v!==(v=a())){if(qe(v)){var i=v;m=!1,i.then(h=>{i===v&&($(u,h),_(R,!0))},h=>{if(i===v)throw $(c,h),_(X,!0),c.v}),b?r&&(o=C(()=>r(l))):ae(()=>{m||_(Q,!0)})}else $(u,v),_(R,!1);return()=>v=te}});b&&(l=L)}function fa(e,a){return a}function ia(e,a,r,s){for(var n=[],l=a.length,f=0;f<l;f++)Re(a[f].e,n,!0);var g=l>0&&n.length===0&&r!==null;if(g){var v=r.parentNode;$e(v),v.append(r),s.clear(),A(e,a[0].prev,a[l-1].next)}Pe(n,()=>{for(var o=0;o<l;o++){var t=a[o];g||(s.delete(t.k),A(e,t.prev,t.next)),Ve(t.e,!g)}})}function oa(e,a,r,s,n,l=null){var f=e,g={flags:a,items:new Map,first:null};b&&me();var v=null,o=!1;ye(()=>{var t=r(),d=Me(t)?t:t==null?[]:be(t),u=d.length;if(o&&u===0)return;o=u===0;let c=!1;if(b){var m=f.data===Oe;m!==(u===0)&&(f=ie(),oe(f),U(!1),c=!0)}if(b){for(var _=null,p,i=0;i<u;i++){if(L.nodeType===8&&L.data===Ye){f=L,c=!0,U(!1);break}var h=d[i],N=s(h,i);p=Ie(L,g,_,null,h,N,i,n,a),g.items.set(N,p),_=p}u>0&&oe(ie())}if(!b){var E=ze;ca(d,g,f,n,a,(E.f&V)!==0,s)}l!==null&&(u===0?v?M(v):v=C(()=>l(f)):v!==null&&P(v,()=>{v=null})),c&&U(!0)}),b&&(f=L)}function ca(e,a,r,s,n,l,f){var g=e.length,v=a.items,o=a.first,t=o,d,u=null,c=[],m=[],_,p,i,h;for(h=0;h<g;h+=1){if(_=e[h],p=f(_,h),i=v.get(p),i===void 0){var N=t?t.e.nodes_start:r;u=Ie(N,a,u,u===null?a.first:u.next,_,p,h,s,n),v.set(p,u),c=[],m=[],t=u.next;continue}if(va(i,_,h),i.e.f&V&&M(i.e),i!==t){if(d!==void 0&&d.has(i)){if(c.length<m.length){var E=m[0],k;u=E.prev;var T=c[0],S=c[c.length-1];for(k=0;k<c.length;k+=1)_e(c[k],E,r);for(k=0;k<m.length;k+=1)d.delete(m[k]);A(a,T.prev,S.next),A(a,u,T),A(a,S,E),t=E,u=S,h-=1,c=[],m=[]}else d.delete(i),_e(i,t,r),A(a,i.prev,i.next),A(a,i,u===null?a.first:u.next),A(a,u,i),u=i;continue}for(c=[],m=[];t!==null&&t.k!==p;)(l||!(t.e.f&V))&&(d??(d=new Set)).add(t),m.push(t),t=t.next;if(t===null)continue;i=t}c.push(i),u=i,t=i.next}if(t!==null||d!==void 0){for(var K=d===void 0?[]:be(d);t!==null;)(l||!(t.e.f&V))&&K.push(t),t=t.next;var Ne=K.length;if(Ne>0){var De=null;ia(a,K,De,v)}}ce.first=a.first&&a.first.e,ce.last=u&&u.e}function va(e,a,r,s){$(e.v,a),e.i=r}function Ie(e,a,r,s,n,l,f,g,v){var o=(v&Ge)!==0,t=(v&Ke)===0,d=o?t?re(n):B(n):n,u=v&Be?B(f):f,c={i:u,v:d,k:l,a:null,e:null,prev:r,next:s};try{return c.e=C(()=>g(e,d,u),b),c.e.prev=r&&r.e,c.e.next=s&&s.e,r===null?a.first=c:(r.next=c,r.e.next=c.e),s!==null&&(s.prev=c,s.e.prev=c.e),c}finally{}}function _e(e,a,r){for(var s=e.next?e.next.e.nodes_start:r,n=a?a.e.nodes_start:r,l=e.e.nodes_start;l!==s;){var f=Ue(l);n.before(l),l=f}}function A(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function de(e,a,r){ke(()=>{var s=we(()=>a(e,r==null?void 0:r())||{});if(r&&(s!=null&&s.update)){var n=!1,l={};se(()=>{var f=r();Fe(f),n&&Qe(l,f)&&(l=f,s.update(f))}),n=!0}if(s!=null&&s.destroy)return()=>s.destroy()})}function ua(e){if(b){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;I(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var n=e.checked;I(e,"checked",null),e.checked=n}}};e.__on_r=r,Xe(r),ra()}}function I(e,a,r,s){var n=e.__attributes??(e.__attributes={});b&&(n[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||n[a]!==(n[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Ze]=r),r==null?e.removeAttribute(a):typeof r!="string"&&_a(e).includes(a)?e[a]=r:e.setAttribute(a,r))}var he=new Map;function _a(e){var a=he.get(e.nodeName);if(a)return a;he.set(e.nodeName,a=[]);for(var r,s=e,n=Element.prototype;n!==s;){r=We(s);for(var l in r)r[l].set&&a.push(l);s=Je(s)}return a}function da(e,a,r){if(r){if(e.classList.contains(a))return;e.classList.add(a)}else{if(!e.classList.contains(a))return;e.classList.remove(a)}}function ha(e,a,r=a){var s=pe();Ae(e,"input",n=>{var l=n?e.defaultValue:e.value;if(l=J(e)?W(l):l,r(l),s&&l!==(l=a())){var f=e.selectionStart,g=e.selectionEnd;e.value=l??"",g!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(g,e.value.length))}}),(b&&e.defaultValue!==e.value||we(a)==null&&e.value)&&r(J(e)?W(e.value):e.value),se(()=>{var n=a();J(e)&&n===W(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const Z=new Set;function ga(e,a,r,s,n=s){var l=r.getAttribute("type")==="checkbox",f=e;let g=!1;if(a!==null)for(var v of a)f=f[v]??(f[v]=[]);f.push(r),Ae(r,"change",()=>{var o=r.__value;l&&(o=ge(f,o,r.checked)),n(o)},()=>n(l?[]:null)),se(()=>{var o=s();if(b&&r.defaultChecked!==r.checked){g=!0;return}l?(o=o||[],r.checked=o.includes(r.__value)):r.checked=aa(r.__value,o)}),je(()=>{var o=f.indexOf(r);o!==-1&&f.splice(o,1)}),Z.has(f)||(Z.add(f),ae(()=>{f.sort((o,t)=>o.compareDocumentPosition(t)===4?-1:1),Z.delete(f)})),ae(()=>{if(g){var o;if(l)o=ge(f,o,r.checked);else{var t=f.find(d=>d.checked);o=t==null?void 0:t.__value}n(o)}})}function ge(e,a,r){for(var s=new Set,n=0;n<e.length;n+=1)e[n].checked&&s.add(e[n].__value);return r||s.delete(a),Array.from(s)}function J(e){var a=e.type;return a==="number"||a==="range"}function W(e){return e===""?null:+e}const ma=!0,Sa=Object.freeze(Object.defineProperty({__proto__:null,prerender:ma},Symbol.toStringTag,{value:"Module"}));function j(e,a){return r(a),{update:r};function r(s){e.style.height=s?`${e.scrollHeight}px`:""}}function ee(e){e.onkeydown=async a=>{var r;if(a.key==="Enter"&&!a.shiftKey&&e.value){a.preventDefault();const s=(r=e.form)==null?void 0:r.querySelector('[type="submit"]');s&&s.click()}}}var pa=O('<label class="type flex gap-2 svelte-1am6fpv"><img class="opacity-50 svelte-1am6fpv"> <input type="radio" name="type" class="hidden"> <!></label>'),ya=O('<form id="form" class="svelte-1am6fpv"><fieldset class="flex flex-wrap p-3 svelte-1am6fpv"><label class="flex-[100%]"><textarea class="font-inherit w-full resize-none border-0 bg-transparent outline-none svelte-1am6fpv" name="request" rows="1"></textarea></label> <!> <button type="submit" class="svelte-1am6fpv"><img alt="alt" class="svelte-1am6fpv"></button></fieldset></form>');function ba(e,a){xe(a,!0);const r=[];let s=ue(a,"value",15,""),n=ue(a,"status",11,""),l=z("Image");const f=["Text","Image"];var g=ya(),v=w(g),o=w(v),t=w(o);ta(t),de(t,(m,_)=>j==null?void 0:j(m,_),s),de(t,m=>ee==null?void 0:ee(m)),ke(()=>ha(t,s)),x(o);var d=H(o,2);oa(d,17,()=>f,fa,(m,_)=>{var p=pa(),i=w(p),h=H(i,2);ua(h);var N,E=H(h,2);{var k=T=>{var S=Se();Y(()=>na(S,y(_))),D(T,S)};Te(E,T=>{y(l)===y(_)&&T(k)})}x(p),Y(()=>{da(p,"checked",y(l)===y(_)),I(i,"alt",y(_)),I(i,"src",`${G??""}/${y(_)??""}.svg`),N!==(N=y(_))&&(h.value=(h.__value=y(_))==null?"":y(_))}),ga(r,[],h,()=>(y(_),y(l)),T=>q(l,T)),D(m,p)});var u=H(d,2),c=w(u);x(u),x(v),x(g),Y(()=>{t.disabled=n().length>0,I(t,"placeholder",n()||" Ask anything"),I(c,"src",`${G??""}/${(n()?"rectangle":"arrow-up")??""}.svg`)}),sa("submit",g,function(...m){var _;(_=a.onsubmit)==null||_.apply(this,m)}),D(e,g),Ee()}function ka(){let e,a;return{promise:new Promise((s,n)=>{e=s,a=n}),resolve:e,reject:a}}var wa=O('<img alt="Response">'),xa=O('<span id="loader" class="svelte-18ws8p6"><img alt="progress"></span>'),Ea=O(`<section id="chat" class="svelte-18ws8p6"><p><!></p> <br> <p>Please create an image of a vintage-style motorcycle parked on a snow-covered road, surrounded
		by evergreen trees. The motorcycle features a sleek design with a vibrant blue fuel tank, black
		accents, and rugged tires suitable for various terrains. The setting suggests a cold winter day,
		with soft sunlight filtering through the trees, creating a warm, inviting atmosphere against the
		chilly backdrop.</p></section> <section id="requester" class="svelte-18ws8p6"><!></section>`,1);function La(e,a){xe(a,!0);let r=z(void 0),s=z(""),n=z("");function l(c){console.log(c);const m=new FormData(c.target),{type:_,request:p}=Object.fromEntries(m);q(r,F(ka())),q(s,F(_==="Text"?"typing...":"loading...")),q(n,""),setTimeout(()=>{var i;(i=y(r))==null||i.resolve("response.png"),q(s,"")},1e3)}var f=Ea(),g=ve(f),v=w(g),o=w(v);{var t=c=>{var m=Le(),_=ve(m);la(_,()=>y(r).promise,p=>{var i=xa(),h=w(i);I(h,"src",`${G??""}/progress.svg`),x(i),D(p,i)},(p,i)=>{var h=wa();Y(()=>I(h,"src",`${G??""}/${y(i)??""}`)),D(p,h)}),D(c,m)};Te(o,c=>{y(r)&&c(t)})}x(v),ea(4),x(g);var d=H(g,2),u=w(d);ba(u,{onsubmit:l,get status(){return y(s)},get value(){return y(n)},set value(c){q(n,F(c))}}),x(d),D(e,f),Ee()}export{La as component,Sa as universal};
