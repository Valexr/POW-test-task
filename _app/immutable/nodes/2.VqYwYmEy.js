import{a as C,t as G,c as Ne,d as Ce}from"../chunks/disclose-version.pOj2vjgu.js";import{k,l as be,aa as ke,j as xe,ab as De,ac as X,w as M,$ as se,U as ne,y as L,b as U,m as te,Z as fe,Y as ie,ad as oe,v as $,x as Y,ae as He,I as Le,W as Me,p as Z,i as Se,a8 as Ee,H as $e,r as ce,q as Q,af as B,e as ve,ag as Re,X as Oe,ah as Pe,z as qe,R as Ve,a5 as Ye,_ as Be,ai as Ue,aj as Ge,ak as Ke,a3 as Xe,al as we,u as Ae,h as ue,am as Ze,an as Qe,ao as We,ap as Te,t as Fe,A as Je,O as _e,P as R,B as je,g as A,C as D,D as N,aq as ea,Q as O,ar as P,s as H,M as aa}from"../chunks/runtime.CEcr7tcI.js";import{a as ra,l as ze,e as sa,r as ta,s as la}from"../chunks/render.8TQt49Ec.js";import{i as na,a as de,p as fa}from"../chunks/if.DYQzKOiV.js";import{b as q}from"../chunks/paths.Bx1WA3Ww.js";const W=0,V=1,F=2;function ia(e,a,r,s,t){k&&be();var f=e,i=ke(),h=Le,u=ne,n,l,d,_=(i?U:te)(void 0),o=(i?U:te)(void 0),g=!1;function p(c,v){g=!0,v&&(fe(x),ie(x),oe(h));try{c===W&&r&&(n?$(n):n=M(()=>r(f))),c===V&&s&&(l?$(l):l=M(()=>s(f,_))),c===F&&t&&(d?$(d):d=M(()=>t(f,o))),c!==W&&n&&Y(n,()=>n=null),c!==V&&l&&Y(l,()=>l=null),c!==F&&d&&Y(d,()=>d=null)}finally{v&&(oe(null),ie(null),fe(null),He())}}var x=xe(()=>{if(u!==(u=a())){if(De(u)){var c=u;g=!1,c.then(v=>{c===u&&(X(_,v),p(V,!0))},v=>{if(c===u)throw X(o,v),p(F,!0),o.v}),k?r&&(n=M(()=>r(f))):se(()=>{g||p(W,!0)})}else X(_,u),p(V,!1);return()=>u=ne}});k&&(f=L)}function oa(e,a){return a}function ca(e,a,r,s){for(var t=[],f=a.length,i=0;i<f;i++)Re(a[i].e,t,!0);var h=f>0&&t.length===0&&r!==null;if(h){var u=r.parentNode;Oe(u),u.append(r),s.clear(),T(e,a[0].prev,a[f-1].next)}Pe(t,()=>{for(var n=0;n<f;n++){var l=a[n];h||(s.delete(l.k),T(e,l.prev,l.next)),qe(l.e,!h)}})}function va(e,a,r,s,t,f=null){var i=e,h={flags:a,items:new Map,first:null};{var u=e;i=k?Z(Ve(u)):u.appendChild(Me())}k&&be();var n=null,l=!1;xe(()=>{var d=r(),_=Se(d)?d:d==null?[]:Ee(d),o=_.length;if(l&&o===0)return;l=o===0;let g=!1;if(k){var p=i.data===$e;p!==(o===0)&&(i=ce(),Z(i),Q(!1),g=!0)}if(k){for(var x=null,c,v=0;v<o;v++){if(L.nodeType===8&&L.data===Ye){i=L,g=!0,Q(!1);break}var m=_[v],b=s(m,v);c=Ie(L,h,x,null,m,b,v,t,a),h.items.set(b,c),x=c}o>0&&Z(ce())}if(!k){var y=Be;ua(_,h,i,t,a,(y.f&B)!==0,s)}f!==null&&(o===0?n?$(n):n=M(()=>f(i)):n!==null&&Y(n,()=>{n=null})),g&&Q(!0)}),k&&(i=L)}function ua(e,a,r,s,t,f,i){var h=e.length,u=a.items,n=a.first,l=n,d,_=null,o=[],g=[],p,x,c,v;for(v=0;v<h;v+=1){if(p=e[v],x=i(p,v),c=u.get(x),c===void 0){var m=l?l.e.nodes_start:r;_=Ie(m,a,_,_===null?a.first:_.next,p,x,v,s,t),u.set(x,_),o=[],g=[],l=_.next;continue}if(c.e.f&B&&$(c.e),c!==l){if(d!==void 0&&d.has(c)){if(o.length<g.length){var b=g[0],y;_=b.prev;var E=o[0],w=o[o.length-1];for(y=0;y<o.length;y+=1)he(o[y],b,r);for(y=0;y<g.length;y+=1)d.delete(g[y]);T(a,E.prev,w.next),T(a,_,E),T(a,w,b),l=b,_=w,v-=1,o=[],g=[]}else d.delete(c),he(c,l,r),T(a,c.prev,c.next),T(a,c,_===null?a.first:_.next),T(a,_,c),_=c;continue}for(o=[],g=[];l!==null&&l.k!==x;)(f||!(l.e.f&B))&&(d??(d=new Set)).add(l),g.push(l),l=l.next;if(l===null)continue;c=l}o.push(c),_=c,l=c.next}if(l!==null||d!==void 0){for(var S=d===void 0?[]:Ee(d);l!==null;)(f||!(l.e.f&B))&&S.push(l),l=l.next;var K=S.length;if(K>0){var I=h===0?r:null;ca(a,S,I,u)}}ve.first=a.first&&a.first.e,ve.last=_&&_.e}function Ie(e,a,r,s,t,f,i,h,u){var n=(u&Ge)!==0,l=(u&Ke)===0,d=n?l?te(t):U(t):t,_=u&Ue?U(i):i,o={i:_,v:d,k:f,a:null,e:null,prev:r,next:s};try{return o.e=M(()=>h(e,d,_),k),o.e.prev=r&&r.e,o.e.next=s&&s.e,r===null?a.first=o:(r.next=o,r.e.next=o.e),s!==null&&(s.prev=o,s.e.prev=o.e),o}finally{}}function he(e,a,r){for(var s=e.next?e.next.e.nodes_start:r,t=a?a.e.nodes_start:r,f=e.e.nodes_start;f!==s;){var i=Xe(f);t.before(f),f=i}}function T(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function ge(e,a,r){we(()=>{var s=Ae(()=>a(e,r==null?void 0:r())||{});if(s!=null&&s.destroy)return()=>s.destroy()})}function _a(e){if(k){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;z(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;z(e,"checked",null),e.checked=t}}};e.__on_r=r,Qe(r),ra()}}function z(e,a,r,s){var t=e.__attributes??(e.__attributes={});k&&(t[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||t[a]!==(t[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[We]=r),r==null?e.removeAttribute(a):typeof r!="string"&&da(e).includes(a)?e[a]=r:e.setAttribute(a,r))}var me=new Map;function da(e){var a=me.get(e.nodeName);if(a)return a;me.set(e.nodeName,a=[]);for(var r,s=ue(e),t=Element.prototype;t!==s;){r=Ze(s);for(var f in r)r[f].set&&a.push(f);s=ue(s)}return a}function pe(e,a,r){if(r){if(e.classList.contains(a))return;e.classList.add(a)}else{if(!e.classList.contains(a))return;e.classList.remove(a)}}function ha(e,a,r=a){var s=ke();ze(e,"input",t=>{var f=t?e.defaultValue:e.value;if(f=j(e)?ee(f):f,r(f),s&&f!==(f=a())){var i=e.selectionStart,h=e.selectionEnd;e.value=f??"",h!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(h,e.value.length))}}),(k&&e.defaultValue!==e.value||Ae(a)==null&&e.value)&&r(j(e)?ee(e.value):e.value),Te(()=>{var t=a();j(e)&&t===ee(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}const J=new Set;function ga(e,a,r,s,t=s){var f=r.getAttribute("type")==="checkbox",i=e;let h=!1;if(a!==null)for(var u of a)i=i[u]??(i[u]=[]);i.push(r),ze(r,"change",()=>{var n=r.__value;f&&(n=ye(i,n,r.checked)),t(n)},()=>t(f?[]:null)),Te(()=>{var n=s();if(k&&r.defaultChecked!==r.checked){h=!0;return}f?(n=n||[],r.checked=n.includes(r.__value)):r.checked=na(r.__value,n)}),Fe(()=>{var n=i.indexOf(r);n!==-1&&i.splice(n,1)}),J.has(i)||(J.add(i),se(()=>{i.sort((n,l)=>n.compareDocumentPosition(l)===4?-1:1),J.delete(i)})),se(()=>{if(h){var n;if(f)n=ye(i,n,r.checked);else{var l=i.find(d=>d.checked);n=l==null?void 0:l.__value}t(n)}})}function ye(e,a,r){for(var s=new Set,t=0;t<e.length;t+=1)e[t].checked&&s.add(e[t].__value);return r||s.delete(a),Array.from(s)}function j(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}const ma=!0,Ia=Object.freeze(Object.defineProperty({__proto__:null,prerender:ma},Symbol.toStringTag,{value:"Module"}));function ae(e){e.style.height=`${e.scrollHeight}px`,e.oninput=a=>{e.style.height="auto",e.style.height=`${e.scrollHeight}px`}}function re(e){e.onkeydown=async a=>{var r;a.key==="Enter"&&!a.shiftKey&&e.value&&(a.preventDefault(),(r=e.form)==null||r.dispatchEvent(new CustomEvent("submit",{detail:a})))}}function pa(){let e,a;return{promise:new Promise((s,t)=>{e=s,a=t}),resolve:e,reject:a}}var ya=G('<img alt="Response">'),ba=G('<span id="loader" class="svelte-12f7zzx"><img alt="progress"></span>'),ka=G('<label class="type flex gap-2 svelte-12f7zzx"><img class="opacity-50 svelte-12f7zzx"> <input type="radio" name="type" class="hidden"> <!></label>'),xa=G(`<section><p><!></p> <br> <p>Please create an image of a vintage-style motorcycle parked on a snow-covered road, surrounded
		by evergreen trees. The motorcycle features a sleek design with a vibrant blue fuel tank, black
		accents, and rugged tires suitable for various terrains. The setting suggests a cold winter day,
		with soft sunlight filtering through the trees, creating a warm, inviting atmosphere against the
		chilly backdrop.</p> <br></section> <form id="form" class="svelte-12f7zzx"><label class="flex gap-1 svelte-12f7zzx"><textarea name="request" class="p-6 pb-12 svelte-12f7zzx"></textarea></label> <fieldset class="z-index-1 flex svelte-12f7zzx"></fieldset></form>`,1);function Na(e,a){Je(a,!0);const r=[];let s=P("image"),t=P(""),f=P(void 0),i=P(" Ask anything");function h(v){H(i,"loading..."),H(t,""),H(f,fa(pa())),setTimeout(()=>{var m;(m=A(f))==null||m.resolve("response.png"),H(i," Ask anything")},1e3)}var u=xa(),n=_e(u),l=D(n),d=D(l);{var _=v=>{var m=Ne(),b=_e(m);ia(b,()=>A(f).promise,y=>{var E=ba(),w=D(E);z(w,"src",`${q??""}/progress.svg`),N(E),C(y,E)},(y,E)=>{var w=ya();z(w,"src",`${q??""}/response.png`),C(y,w)}),C(v,m)};de(d,v=>{A(f)&&v(_)})}N(l),ea(6),N(n);var o=O(n,2);z(o,"style",`--base: ${q??""}`);var g=D(o),p=D(g);ta(p),R(()=>p.disabled=A(i).includes("loading..."));const x=aa(()=>A(t).includes(`
`));ge(p,v=>ae==null?void 0:ae(v)),ge(p,v=>re==null?void 0:re(v)),we(()=>ha(p,()=>A(t),v=>H(t,v))),N(g);var c=O(g,2);va(c,20,()=>["text","image"],oa,(v,m)=>{var b=ka(),y=D(b),E=O(y,2);_a(E);var w,S=O(E,2);{var K=I=>{var le=Ce();R(()=>la(le,m)),C(I,le)};de(S,I=>{A(s)===m&&I(K)})}N(b),R(()=>{pe(b,"checked",A(s)===m),z(y,"alt",m),z(y,"src",`${q??""}/${m??""}.svg`),w!==(w=m)&&(E.value=(E.__value=m)==null?"":m)}),ga(r,[],E,()=>A(s),I=>H(s,I)),C(v,b)}),N(c),N(o),R(()=>{z(p,"placeholder",A(i)),pe(p,"pb-16",A(x))}),sa("submit",o,h),C(e,u),je()}export{Na as component,Ia as universal};
